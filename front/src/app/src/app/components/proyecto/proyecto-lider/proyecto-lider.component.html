  

<div class="container mt-5 proyecto-lider">
    <div id="div2" style="margin-top: 10%; right: 92%;">
      <div class="circulo_izq">
      </div>
    </div>
          <!-- <div class="row" id="logoDesktop">
              <div class="col-md-6 justify-content-start">
                  <img src="../../assets/img/logo_nav.png" width="60" height="40" alt="" loading="lazy">
          </div>
          
           <div class="col text-right justify-content-end">
              
              <button class="btn btn-outline-success mr-2" [routerLink]="['/home']" routerLinkActive="router-link-active">Volver al home</button>
          </div>
        </div> -->
  <hr>
  <div class="row" style="place-content: space-between;">
      <div class="col-md-6 justify-content-start" id="contenedorTextoProyecto">
              <h1 class="font-weight-bold" id="contenedor">¡Bienvenido!</h1>
              <h4 class="font-weight-light" >Aquí podrás cargar tus ventas y contribuir a que logremos el objetivo juntos. <br>
              En caso de cometerse un error contactar con tu referente.</h4>
      </div>
      
  </div>
  
  <div class="row table-responsive-md" id="excel">
      <table class="table" style="border-collapse: separate;">
          <thead class="text-center" style="background-color: #FFBC01; color: white;">
              <tr>
                  <th style="width:15%; border-radius: 10px 10px 0% 0%;
                   font-weight: lighter;
                   font-size: x-large;">Vendedor</th>
                  <th style="width:15%;border-radius: 10px 10px 0% 0%;
                   font-weight: lighter;font-size: x-large;">Fecha</th>
                  <th colspan="6" style="border-radius: 10px 10px 0% 0%; 
                  font-weight: lighter;font-size: x-large;">Venta</th>
                  <th style="width:15%; border-radius: 10px 10px 0% 0%; 
                  font-weight: lighter; font-size: x-large;">Cantidad</th>
                  <th style="width:15%; border-radius: 10px 10px 0% 0%; 
                  font-weight: lighter;font-size: x-large;">Ganancia</th>
              </tr>
          </thead>
          <tbody style="border: 1px solid black; height:400px;">
            <tr *ngFor="let venta of excel;let i = index">
                <td  style="width:15%;border: 1px solid black;">{{venta.sellerName}}</td>
                <td  style="width:15%;border: 1px solid black;">{{venta.dateCreate | date:'dd/MM/yyyy'}}</td>
                <td  colspan="6" style="border: 1px solid black;">{{venta.Combos.name}}</td>
                <td  style="width:15%;border: 1px solid black;">{{venta.cantidad}}</td>
                <td  style="width:15%;border: 1px solid black;">{{venta.subTotal}}
                    <span id="icon" class="text-right"><button data-toggle="modal" data-target="#modificarVenta" (click)="setear(venta)" class="btn btn-sm"><i class="fa fa-pencil"></i></button><button class="btn btn-sm" (click)="borrarVentas(venta)"><i class="fa fa-trash"></i></button></span>
                </td>
            </tr>
            
          </tbody>
      </table>
  </div>
  
  <div class="row">
    <div class="col-md-4 text-center">
        <h1 class="btn-primary p-2" style="font-size: 60px;border-radius: 4px;">{{(objetivos.montoColectado | currency) == undefined ? "" : (objetivos.montoColectado | currency)}} </h1>
        <h4>Monto colectado</h4>
    </div>
    <div class="col-md-4 text-center">
        <h1 class="btn-danger p-2" style="font-size: 60px;border-radius: 4px;">{{(objetivos.montoFaltante | currency) == undefined ? "" : (objetivos.montoFaltante | currency)}} </h1>
        <h4>Monto faltante</h4>
    </div>
      <div class="col-md-4 text-center">
          <h1 class="p-2" style="font-size: 60px;border-radius: 4px;"> {{(objetivos.meta | currency) == undefined ? "" : (objetivos.meta | currency)}}</h1>
          <h4>Meta</h4>
      </div>
  </div>
  
  
  <div class="row mt-5" *ngFor="let ventas of resumenVentas">
      <div class="vendedor-container"><h4 class="font-weight-lighter d-block" 
      style="background-color: #FFBC01; 
      color: white; border-radius: 6px 0px 0px 0px;padding: 3px;">Vendedor: </h4> <h4 style="padding: 3px;">{{ventas.seller.name}}</h4>
      <table class="table font-weight-bold text-center" style="width: 100%;">
          <tbody style="border: 1px solid black;">
              <tr>
                  <td  style="width:25%;border: 1px solid black;">Cantidad totales de ventas:{{ventas.sales}}</td>
                  <td  colspan="2" style="border: 1px solid black;"><ul><li *ngFor="let combo of ventas.countCombosForType">{{combo.name}}</li></ul></td>
                  <td  style="width:25%;border: 1px solid black;">{{ventas.totalSell}}</td>
              </tr>
          </tbody>
      </table>
      <div class="form-check d-inline-block p-3 ml-2">
          <input class="form-check-input" type="checkbox"
            (change)="verificar()"
           name="check" id="check">
          <label class="form-check-label" style="font-size: larger;">
            Verificar Ventas
          </label>

      </div>
  </div>
      
  </div>

  <div class="row justify-content-end mt-3 text-right mr-auto"></div>
  <div class="row m-2" id="enviar-proyecto-container">
     
      <div class="col-md-6 justify-content-start">
          <button class="btn btn-primary"  style="background-color: #37c7fb; border:#37c7fb; font-size: large;" (click)="enviarMailControl()">Enviar mail de control</button>
      </div>
      <div class="col-md-4"></div>
      <div class="col-md-2 justify-content-end text-right">
          <button class="btn btn-primary btn-block "  style="background-color: #37c7fb; border:#37c7fb; font-size: large; width: 203px;" [disabled]="!proyect.checked" (click)="tuttiListo()">Tutti listo</button>
          <small style="font-size: x-small;">*Este botón será clickeable cuando cumplas el objetivo</small>
      </div>
      
  </div>

  
  
  <!-- Modal --> 
    <!-- Modal -->
    <div class="modal fade" id="venta" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="venta label">Cargar venta</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" [formGroup]="formVenta">
              <div class="row">
                  <div class="col-md-12">
                      <label for="">Seleccionar Combo</label>
                          <select class="custom-select custom-select-sm" formControlName="combo" name="combo"
                           placeholder="Seleccione un combo">
                          <option *ngFor="let item of combos" [value]="item.id">
                                  {{item.name}}
                              </option>
                      </select>
                  </div>
              </div>
              <hr>
              <div class="row">
                  <div class="col-md-6">
                      <label for="">Cantidad</label>
                          <input type="text" formControlName="cantidad" id="cantidad" name="cantidad" class="form-control" (keyup)="calcular()">
                  </div>
                  <div class="col-md-6">
                      <label for="">Ganancia</label>
                          <input type="number" formControlName="precio" name="precio" class=" form-control" disabled>
                  </div>
              </div>
          </div>
          <div class="modal-footer justify-content-center">
          <button type="submit" class="btn btn-primary "  (click)="agregarVenta(formVenta,'CREACION')" [disabled]="formVenta.invalid" >Agregar</button></div>
          <div class="modal-footer justify-content-center">
              
              <table class="table table-bordered w-100 text-center">
                  <thead class="thead-dark" style="border: 1px solid black;">
                      <tr>
                          <th style="width: 40%;">Combo</th>
                          <th  style="width: 30%;">Cantidad</th>
                          <th  style="width: 30%;">Ganancia total</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let venta of arregloVentas">
                          <td style="width: 40%;">{{venta.name}}</td>
                          <td style="width: 30%;">{{venta.cantidad}}</td>
                          <td style="width: 30%;">{{venta.precio}}</td>
                          
                      </tr>
                  </tbody>
              </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="borrarForm(formVenta,arregloVentas)" data-dismiss="modal">Cancelar</button>
            <button type="submit" class="btn btn-primary"  (click)="cargarVenta()" data-dismiss="modal" [disabled]="arregloVentas.length == 0">Cargar venta</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modificar Venta -->
    <div class="modal fade" id="modificarVenta" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="venta label">Cargar venta</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body" [formGroup]="formVenta">
                <div class="row">
                    <div class="col-md-12">
                        <label for="">Seleccionar Combo</label>
                            <select class="custom-select custom-select-sm" formControlName="combo" name="combo"
                             placeholder="Seleccione un combo">
                            <option *ngFor="let item of combos" [value]="item.id">
                                    {{item.name}}
                                </option>
                        </select>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-md-6">
                        <label for="">Cantidad</label>
                            <input type="number" formControlName="cantidad" id="cantidad" name="cantidad" class="form-control" (keyup)="calcular()">
                    </div>
                    <div class="col-md-6">
                        <label for="">Ganancia</label>
                            <input type="number" formControlName="precio" name="precio" class=" form-control" disabled>
                    </div>
                </div>
            </div>
            <!-- <div class="modal-footer justify-content-center">
            <button type="submit" class="btn btn-primary "  (click)="agregarVenta(formVenta,'MODIFICAR')" [disabled]="formVenta.invalid" >Agregar</button></div>
            <div class="modal-footer justify-content-center">
                
                <table class="table table-bordered w-100 text-center">
                    <thead class="thead-dark" style="border: 1px solid black;">
                        <tr>
                            <th style="width: 40%;">Combo</th>
                            <th  style="width: 30%;">Cantidad</th>
                            <th  style="width: 30%;">Monto total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let venta of arregloModificar">
                            <td style="width: 40%;">{{venta.Combos.name}}</td>
                            <td style="width: 30%;">{{venta.cantidad}}</td>
                            <td style="width: 30%;">{{venta.subTotal}}</td>
                        </tr>
                    </tbody>
                </table>
            </div> -->
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" (click)="borrarForm(formVenta,arregloModificar)" data-dismiss="modal">Cancelar</button>
              <button type="submit" class="btn btn-primary"  (click)="modificarVenta(formVenta)" data-dismiss="modal">Modificar venta</button>
            </div>
          </div>
        </div>
      </div>
  </div>